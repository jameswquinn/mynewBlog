<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Begin Jekyll SEO tag v2.1.0 -->
<meta property="og:title" content="Porting a theme to Siteleaf" />
<meta name="description" content="Today, I ported another theme to Siteleaf—Allison House’s Martin theme. I started porting themes to Siteleaf earlier this month as a self-imposed challenge. A friend of mine asked if a particular theme was possible to implement using Siteleaf and rather than answer with a simple ‘yes’, I responded with the ported theme. This was a great way of demonstrating Siteleaf’s adaptability, but also a useful exercise for myself to see where Siteleaf excels and where it falls short. In this post, I’ll walk through porting the Martin theme and show you just how easy it can be." />
<meta property="og:description" content="Today, I ported another theme to Siteleaf—Allison House’s Martin theme. I started porting themes to Siteleaf earlier this month as a self-imposed challenge. A friend of mine asked if a particular theme was possible to implement using Siteleaf and rather than answer with a simple ‘yes’, I responded with the ported theme. This was a great way of demonstrating Siteleaf’s adaptability, but also a useful exercise for myself to see where Siteleaf excels and where it falls short. In this post, I’ll walk through porting the Martin theme and show you just how easy it can be." />
<link rel="canonical" href="http://localhost:4000/myBlog/blog/porting-a-theme-to-siteleaf/" />
<meta property="og:url" content="http://localhost:4000/myBlog/blog/porting-a-theme-to-siteleaf/" />
<meta property="og:site_name" content="Siteleaf" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-09-16T11:05:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@siteleaf" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Porting a theme to Siteleaf",
"datePublished": "2013-09-16T11:05:00-04:00",
"description": "Today, I ported another theme to Siteleaf—Allison House’s Martin theme. I started porting themes to Siteleaf earlier this month as a self-imposed challenge. A friend of mine asked if a particular theme was possible to implement using Siteleaf and rather than answer with a simple ‘yes’, I responded with the ported theme. This was a great way of demonstrating Siteleaf’s adaptability, but also a useful exercise for myself to see where Siteleaf excels and where it falls short. In this post, I’ll walk through porting the Martin theme and show you just how easy it can be.",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "http://localhost:4000/myBlog/assets/logo.svg"}},
"url": "http://localhost:4000/myBlog/blog/porting-a-theme-to-siteleaf/"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="twitter:image" content="http://localhost:4000/assets/avatar.png"/>
    <title>Porting a theme to Siteleaf - Siteleaf</title>
    <link rel="stylesheet" href="/myBlog/styles/milligram.css" />
    <!--
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.2.4/milligram.min.css" />
    -->
    <link rel="icon" type="image/x-icon" href="/myBlog/assets/favicon.ico" />
    <link rel="alternate" type="application/rss+xml" title="Siteleaf: Blog (RSS)" href="http://localhost:4000/myBlogfeed.xml" />
  </head>
  <body class="post">
    
      <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-1666437-33', 'auto');
        ga('send', 'pageview');
      </script>
    
    <div class="container">
      
  <!-- blog permalink, inherit from first tag -->
  
  

<div class="headerWrap bg--blue">
  <header class="header">
    <ul class="header__items">
      
      <li class="header__item">
        <a href="/myBlog/blog/" class="header__link">Blog</a>
      </li>
      
      <li class="header__item">
        <a href="/myBlog/gallery/" class="header__link">Gallery</a>
      </li>
      
      <li class="header__item">
        <a href="/myBlog/plans/" class="header__link">Plans</a>
      </li>
      
    </ul>
    <a href="/myBlog/" class="header__home"><img src="/myBlog/assets/logo.svg" class="header__logo" alt="Siteleaf" /></a>
    <h1 class="header__title">Porting a theme to Siteleaf</h1>
    
    
  </header>
</div>

        
      

<article class="article">
  
  
  <section class="article__meta">
    
      <ul class="article__tags">
        
          
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
              <li class="article__tag"><a href="/myBlog/blog/tags/tutorial/" class="article__tag__link bg--blue">Tutorial</a></li>
            
          
            
            
          
            
            
          
        
          
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
              <li class="article__tag"><a href="/myBlog/blog/tags/liquid/" class="article__tag__link bg--red">Liquid</a></li>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
          
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
              <li class="article__tag"><a href="/myBlog/blog/tags/v1/" class="article__tag__link bg--dark-gray">v1</a></li>
            
          
            
            
          
        
      </ul>
    
    
    <time class="article__date" datetime="2013-09-16T11:05:00-04:00">Sep 16, 2013</time>
    
  </section>
  
  <section class="article__content">
    
      <p class="note">This post refers to a legacy version of Siteleaf.</p>
    

    
    <p>
      <a href="/myBlog/blog/porting-a-theme-to-siteleaf/"><img src="/myBlog/uploads/porting-a-theme-to-siteleaf-martin.png" alt="/myBlogPorting a theme to Siteleaf" /></a>
    </p>
    

    
      <p>Today, I ported <a href="http://martin.siteleaf.net">another theme</a> to <a href="http://siteleaf.com">Siteleaf</a>—<a href="http://twitter.com/house">Allison House’s</a> <a href="http://house.github.io/martin/">Martin theme</a>. I started porting themes to Siteleaf earlier this month as a self-imposed challenge. A friend of mine asked if a particular theme was possible to implement using Siteleaf and rather than answer with a simple ‘yes’, I responded with <a href="http://balzac.siteleaf.net">the ported theme</a>. This was a great way of demonstrating Siteleaf’s adaptability, but also a useful exercise for myself to see where Siteleaf excels and where it falls short. In this post, I’ll walk through porting the Martin theme and show you just how easy it can be.</p>

<p>If you first take a look at the <a href="https://github.com/destroytoday/martin-for-siteleaf/commit/4d7bb736b682294513db591d9c47bdb34713c507#L9R3">diff</a> on Github, you’ll immediately see how little I needed to change in order to port the theme to Siteleaf. In fact, I only replaced six lines—and I deleted several dozen in the process. I accomplished this by extracting the theme’s content to Siteleaf and wiring these spots to page variables and meta fields.</p>

<p><img src="/uploads/porting-a-theme-to-siteleaf-sections.png" alt="porting-a-theme-to-siteleaf-sections" /></p>

<p>Looking at the previous code, we can separate the entire page into three sections—header, body (represented as a <code class="highlighter-rouge">&lt;section&gt;</code>), and footer. If we take a closer look at the body, the bulk of it is simple HTML that can easily be rendered from Markdown. Because of this, we can replace the entire block of code inside the <code class="highlighter-rouge">&lt;section&gt;</code> tag with the liquid tag <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">body</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> and move the previous content into a Siteleaf page body, rewritten in Markdown. Siteleaf will render that Markdown to HTML, inject it into our template, and allow us to modify it easily in the CMS, without touching the template code. Previously, the snippet of code to produce a table looked like this:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;h2&gt;</span>Table<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;table&gt;</span>
  <span class="nt">&lt;thead&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;th&gt;</span>Whiskey<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th&gt;</span>Tango<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th&gt;</span>Foxtrot<span class="nt">&lt;/th&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/thead&gt;</span>
  <span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td&gt;</span>Apple<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>1<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>a<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td&gt;</span>Blueberry<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>2<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>b<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td&gt;</span>Banana<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>3<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>c<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</code></pre>
</div>

<p>Now, thanks to Markdown, we can replicate this table in the Siteleaf CMS, using the following code:</p>

<div class="language-markdown highlighter-rouge"><pre class="highlight"><code><span class="gu">## Table</span>

| Whiskey    | Tango | Foxtrot |
| ---------- | ----- | ------- |
| Apple      | 1     | a       |
| Blueberry  | 2     | b       |
| Banana     | 3     | c       |
</code></pre>
</div>

<p>The end result is the same both ways, but with Siteleaf and Markdown, the content is much easier to digest and no longer hard-coded into the template. You can compare the before/after of the page’s content in these two gists: <a href="https://gist.github.com/destroytoday/6598835">HTML</a> vs <a href="https://gist.github.com/destroytoday/6598658">Markdown</a></p>

<p>The body content is typically the easiest to extract because Siteleaf does most of the work. Let’s now take a look at the header, which is comprised of a few external links, the page’s title and its tagline.</p>

<p><img src="/uploads/porting-a-theme-to-siteleaf-header.png" alt="porting-a-theme-to-siteleaf-header" /></p>

<p>If this theme were meant for multiple pages, the links at the top would appear on every page, so it’s safe to consider these global values. As such, we can extract them into site meta fields. Starting with the byline in the top-left, we <em>could</em> simply replace it with the full URL to the GitHub profile page, but instead, let’s write the template in a way that saves us from repeating the URI with every occurrance. I take this approach because we use several GitHub links on the top bar, including one for the repo and another for a zip of the master branch. Here’s a look at the previous code:</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code>&lt;div class="byline"&gt;
  &lt;a href="https://github.com/house"&gt;github.com/house&lt;/a&gt;
&lt;/div&gt;
&lt;div class="downloads"&gt;
  &lt;a href="https://github.com/house/martin"&gt;Fork on GitHub&lt;/a&gt;
  &amp;bull;
  &lt;a href="https://github.com/house/martin/archive/master.zip"&gt;Download ZIP&lt;/a&gt;
&lt;/div&gt;
</code></pre>
</div>

<p>The base GitHub URL appears three times (and once without the protocol), the GitHub username four times, and the GitHub repo name twice. If we take a stance and agree to use GitHub to host our source code when using this theme, we can extract both the GitHub username and repo name into site meta fields:</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code>&lt;div class="byline"&gt;
  &lt;a href="https://github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>"&gt;github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;
&lt;/div&gt;
&lt;div class="downloads"&gt;
  &lt;a href="https://github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_repo</span><span class="w"> </span><span class="p">}}</span>"&gt;Fork on GitHub&lt;/a&gt;
  &amp;bull;
  &lt;a href="https://github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_repo</span><span class="w"> </span><span class="p">}}</span>/archive/master.zip"&gt;Download ZIP&lt;/a&gt;
&lt;/div&gt;
</code></pre>
</div>

<p>With this setup, if we ever decide to change our username or repo name, we only need to do it once, without touching the template code. I try to extract as much content as possible, so anyone could upload the theme and have full control over the copy. We can achieve this with a couple more site meta fields, but let’s also specify fallbacks, so these are optional to the user:</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code>&lt;div class="byline"&gt;&lt;a href="https://github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>"&gt;github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;&lt;/div&gt;
&lt;div class="downloads"&gt;
  &lt;a href="https://github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_repo</span><span class="w"> </span><span class="p">}}</span>"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">fork_text</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">fallback</span><span class="p">:</span><span class="w"> </span><span class="s1">'Fork on GitHub'</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;
  &amp;bull;
  &lt;a href="https://github.com/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_user</span><span class="w"> </span><span class="p">}}</span>/<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">github_repo</span><span class="w"> </span><span class="p">}}</span>/archive/master.zip"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">download_text</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">fallback</span><span class="p">:</span><span class="w"> </span><span class="s1">'Download ZIP'</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;
&lt;/div&gt;
</code></pre>
</div>

<p>The second half the header consists of the page’s title and tagline. Since this theme is intended to be a single, standalone page, I could’ve used the site title and a site meta field for the tagline, but I wanted to keep it open to multiple pages, so I went with the page title and a page meta field:</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code>&lt;hgroup&gt;
  &lt;h1&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">title</span><span class="w"> </span><span class="p">}}</span>&lt;/h1&gt;
  &lt;h2 class="tagline"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">meta</span><span class="p">.</span><span class="nv">tagline</span><span class="w"> </span><span class="p">}}</span>&lt;/h2&gt;
&lt;/hgroup&gt;
</code></pre>
</div>

<p>Now, if we ever add a ‘Team’ page, we can adapt the header to the new page without needing to touch the template.</p>

<p>The last remaining piece of the puzzle is the window title. Typically, I set this to <code class="highlighter-rouge">Siteleaf / </code>, but this theme’s title includes both the title and a credit to the creator, Allison. Rather than set the site title to such a length, once again, I used a site meta field with a fallback to the site title:</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code>&lt;title&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">meta</span><span class="p">.</span><span class="nv">window_title</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">fallback</span><span class="p">:</span><span class="w"> </span>site.title<span class="w"> </span><span class="p">}}</span>&lt;/title&gt;
</code></pre>
</div>

<p>Again, the user can upload the theme without specifying the <code class="highlighter-rouge">window_title</code>, but it’s also there if they need it.</p>

<h3 id="wrapping-up">Wrapping up</h3>

<p>Allison’s theme, <a href="http://house.github.io/martin/">Martin</a>, is a beautiful theme, and its simplicity, both in style and code, is what attracted me. While the theme is a good example for a single-page site, there is so much more to cover when porting larger, more complex themes. Hopefully, this walkthrough gives you a solid starting point to try it for yourself. I’m going to continue porting themes to Siteleaf, while providing the source code on <a href="https://github.com/destroytoday">my GitHub account</a>. You can also check out the <a href="https://github.com/siteleaf/siteleaf-themes/wiki/Siteleaf-themes-on-Github">list of existing themes</a> on the Siteleaf wiki.</p>

    
    
  </section>
</article>



    </div>
    <h1>footer</h1>

  </body>
</html>
